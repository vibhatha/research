"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6111],{4073(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"legislative-analysis/architecture","title":"Architecture","description":"The Legislative Analysis tool is designed as a modern, decoupled web application that leverages GenAI for backend data processing.","source":"@site/docs/legislative-analysis/architecture.md","sourceDirName":"legislative-analysis","slug":"/legislative-analysis/architecture","permalink":"/research/docs/legislative-analysis/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/vibhatha/research/tree/main/docs/docs/legislative-analysis/architecture.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Architecture"},"sidebar":"tutorialSidebar","previous":{"title":"Key Features","permalink":"/research/docs/legislative-analysis/features"},"next":{"title":"Technology Stack","permalink":"/research/docs/legislative-analysis/tech-stack"}}');var t=s(4848),r=s(8453);const a={sidebar_position:5,title:"Architecture"},l="System Architecture",c={},d=[{value:"High-Level Overview",id:"high-level-overview",level:2},{value:"Component Details",id:"component-details",level:2},{value:"1. Offline Processing (The &quot;Brain&quot;)",id:"1-offline-processing-the-brain",level:3},{value:"2. Backend API",id:"2-backend-api",level:3},{value:"3. Frontend UI",id:"3-frontend-ui",level:3},{value:"Data Flow",id:"data-flow",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"system-architecture",children:"System Architecture"})}),"\n",(0,t.jsx)(n.p,{children:"The Legislative Analysis tool is designed as a modern, decoupled web application that leverages GenAI for backend data processing."}),"\n",(0,t.jsx)(n.h2,{id:"high-level-overview",children:"High-Level Overview"}),"\n",(0,t.jsx)(n.p,{children:"The system consists of three main layers:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Ingestion & Processing Layer"}),": Python scripts using Google Gemini to analyze PDFs."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service Layer"}),": A FastAPI backend that serves the structured data."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Presentation Layer"}),": A Next.js frontend that provides an interactive UI."]}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TD\n    User[User] --\x3e|HTTP Request| Frontend["Next.js Frontend"]\n    Frontend --\x3e|API Calls| Backend["FastAPI Backend"]\n    Backend --\x3e|SQL Query| DB[("SQLite Database")]\n    Backend --\x3e|Uses| Lib["Analytics Library"]\n    \n    subgraph "Offline Processing"\n        PDF[PDF Documents] --\x3e|Input| Script["Extraction"]\n        Script --\x3e|Writes| DB\n        Script --\x3e|Exports| JSON[JSON Dump]\n        Script --\x3e|Uses| Lib\n    end'}),"\n",(0,t.jsx)(n.h2,{id:"component-details",children:"Component Details"}),"\n",(0,t.jsx)(n.h3,{id:"1-offline-processing-the-brain",children:'1. Offline Processing (The "Brain")'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Input"}),": Raw PDF files of Sri Lankan Acts."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Engine"}),": ",(0,t.jsx)(n.code,{children:"scripts/update_docs_data.py"})," and ",(0,t.jsx)(n.code,{children:"ldf/"})," modules."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AI Model"}),": Google Gemini 2.0 Flash (via ",(0,t.jsx)(n.code,{children:"google.genai"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Output"}),": Structured JSON data and a populated SQLite database."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Role"}),": This layer runs asynchronously to the web app. It pre-computes the analysis so the web app is fast and responsive."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-backend-api",children:"2. Backend API"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Framework"}),": FastAPI."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Responsibility"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Exposes endpoints for listing acts, searching, and retrieving detailed metadata."}),"\n",(0,t.jsx)(n.li,{children:"Handlers complex queries that might be too heavy for the client-side."}),"\n",(0,t.jsxs)(n.li,{children:["Manages database connections via ",(0,t.jsx)(n.code,{children:"SQLModel"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"3-frontend-ui",children:"3. Frontend UI"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Framework"}),": Next.js (React)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Styling"}),": Tailwind CSS + Shadcn UI."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Responsibility"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Renders the interactive dashboard."}),"\n",(0,t.jsx)(n.li,{children:"Displays Acts in a responsive Card Grid."}),"\n",(0,t.jsx)(n.li,{children:"Visualizes relationships between acts (amendments, references)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ingestion"}),": A new PDF is placed in the ",(0,t.jsx)(n.code,{children:"data/"})," folder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Analysis"}),": The extraction script reads the PDF, sends text to Gemini, and receives a structured JSON response."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage"}),": The JSON is parsed and stored in ",(0,t.jsx)(n.code,{children:"research.db"})," tables (",(0,t.jsx)(n.code,{children:"Act"}),", ",(0,t.jsx)(n.code,{children:"Amendment"}),", ",(0,t.jsx)(n.code,{children:"Entity"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Serving"}),": When a user visits the web app, the Backend fetches this structured data and sends it to the Frontend for display."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>l});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);